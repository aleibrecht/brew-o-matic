<div class="panel panel-default">
    <div class="panel-heading"><strong>Granos</strong></div>
    <div style="margin: 2em 2em 0;" class="alert alert-info" ng-hide="recipe.FERMENTABLES.FERMENTABLE.length != 0">
        Aun no tiene ningun fermentable en la receta
    </div>
    <table class="table table-condensed table-hover" ng-show="recipe.FERMENTABLES.FERMENTABLE.length != 0" style="margin-top: 1em;">
      <thead>
        <tr>
          <th style="width:48%">Grano/Fermentable</th>
          <th style="width:8%">Extracto</th>
          <th style="width:8%">Color</th>
          <th style="width:8%">%</th>
          <th style="width:8%">Kg</th>
          <th style="width:10%">Uso</th>
          <!-- <th style="width:8%">IBU</th> -->
          <th style="width:2%"></th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="fermentable in recipe.FERMENTABLES.FERMENTABLE">
            <!--<td><input class="form-control input-sm" type="text" ng-model="fermentable.NAME"/></td>-->
            <td>
                <input typeahead-on-select="changeGrain(fermentable)" type="text" ng-model="fermentable.NAME" typeahead="grain.name for grain in grains | filter:$viewValue" class="form-control input-sm" placeholder="Buscar Fermentables">

                <!-- <input ng-change="changeGrain(fermentable)" class="form-control input-sm" type="text" ng-model="fermentable.NAME" list="grainNames" placeholder="Buscar Fermentables"/>
                <datalist id="grainNames">
                    <option ng-repeat="grain in grains" value="{{grain.name}}">
                        {{grain.name}}
                    </option>
                </datalist> -->
            </td>
            <td><input ng-change="changeAmount()" class="form-control input-sm" type="number" step="0.001" ng-model="fermentable.POTENTIAL" placeholder="PPG" /></td>
            <td><input ng-change="changeAmount()" class="form-control input-sm" type="number" step="0.1" ng-model="fermentable.COLOR" placeholder="SRM"/></td>
            <td><span class="form-control input-sm gt-calculated" ng-bind="fermentable.PERCENTAGE"/></td></td>
            <td><input ng-change="changeAmount()" ng-disabled="recipe.GrainCalcMethod==0" class="form-control input-sm" type="number" step="0.1" ng-model="fermentable.AMOUNT" placeholder="Kg"/></td></td>
            <td>
                <select ng-change="changeAmount()" class="form-control input-sm" ng-model="fermentable.USE">
                    <option ng-repeat="use in fermentableUses">{{use.name}}</option>
                </select>
            </td>
            <!-- <td>
                IBUs
            </td> -->
            <td>
                <button type="button" class="close" aria-hidden="true" ng-click="removeFermentable(fermentable)">&times;</button>
            </td>
        </tr>
        <tr>
            <td colspan="4"><strong class="pull-right">Total:</strong></td>
            <td>{{recipe.totalAmount | number:3}} Kg</td>
        </tr>
      </tbody>
    </table>
    <div class="panel-body">
        <button type="button" class="btn btn-default pull-right" ng-click="addFermentable()">
            <span class="glyphicon glyphicon-plus"></span> Agregar
        </button>
    </div>
</div>
