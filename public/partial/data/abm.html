<div>
    <ul class="nav nav-tabs">
        <li ng-class="getActiveClass(key)" ng-repeat="(key,value) in allConfigs">
            <a style="cursor: pointer" href="/#/data/{{key}}">{{value.name}}</a>
        </li>
    </ul>
</div>
<div class="panel panel-default">
    <div class="panel-heading"><strong>Administracion de {{config.name}}</strong></div>
    <div class="panel-body">
        <a ng-click="rows.push({_draft:true})" href="" type="button" class="btn btn-default btn-sm pull-right">
            <span class="glyphicon glyphicon-plus"></span> nuevo
        </a>
    </div>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th ng-repeat="header in config.headers" style="width: {{header.width}}%">
                    {{header.caption}}    
                </th>
                <th style="width: 1em"></th>
                <th style="width: 1em"></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-init="value=copy(row)" ng-repeat="row in rows | orderBy:config.orderBy">
                <td ng-repeat="header in config.headers">
                    <input ng-show="row._id == edit_id" type="text" class="form-control input-sm" ng-model="value[header.field]"/>
                    <span ng-hide="row._id == edit_id">{{row[header.field]}}</span>
                </td>
                <td>
                    <a ng-hide="row._id == edit_id" ng-click="edit(row)" href="" type="button" class="btn btn-primary btn-xs">editar</a>
                    <a ng-show="row._id == edit_id" ng-click="save(value,row)" href="" type="button" class="btn btn-success btn-xs">guardar</a>
                </td>
                <td>
                    <a ng-hide="row._id == edit_id" ng-click="remove(row)" href="" type="button" class="btn btn-danger btn-xs">eliminar</a>
                    <a ng-show="row._id == edit_id" ng-click="cancel(row,value)" href="" type="button" class="btn btn-warning btn-xs">cancelar</a>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="panel-body">
        <a ng-click="rows.push({_draft:true})" href="" type="button" class="btn btn-default btn-sm pull-right">
            <span class="glyphicon glyphicon-plus"></span> nuevo
        </a>
    </div>    
</div>